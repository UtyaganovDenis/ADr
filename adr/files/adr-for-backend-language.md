# ADR for Backend language   
**Дата**: 2024-11-19
**Решение**: Использовать Go для разработки бэкенда   
 --- 
### Контекст   
Для разработки нового высоконагруженного и масштабируемого бэкенда необходимо выбрать подходящий язык программирования. Проект предполагает обработку большого количества запросов, минимизацию времени отклика, эффективное использование ресурсов и лёгкость в поддержке и масштабировании. Также важно учитывать долгосрочную перспективу, чтобы выбранное решение было надёжным и устойчивым к изменениям требований.   
Рассматриваемые варианты: **Go**, **Java**, **C#**, **Python**.   
 --- 
### Требования к выбору языка   
1. **Производительность**: минимальная задержка и высокая скорость обработки запросов.   
2. **Масштабируемость**: язык должен поддерживать эффективную параллельную обработку запросов.   
3. **Экосистема**: наличие библиотек, инструментов и активного сообщества.   
4. **Ресурсоэффективность**: низкие требования к памяти и процессору.   
5. **Долгосрочная поддержка**: язык должен быть стабилен и развиваться.   
 --- 
   
### Анализ кондидатов   
### 1. Go   
### Производительность   
Go демонстрирует высокую производительность благодаря компиляции в машинный код и эффективной работе с многопоточностью через горутины. Его производительность сопоставима с Java и C#, но при этом Go требует меньше ресурсов.   
### Масштабируемость   
Go отлично подходит для создания масштабируемых систем. Его модель конкурентности с горутинами и каналами позволяет легко обрабатывать большое количество параллельных задач.   
### Экосистема   
Экосистема Go активно развивается, особенно в области облачных решений, микросервисов и инфраструктурных инструментов (Docker, Kubernetes, Prometheus). Есть большое количество библиотек для веб-разработки и работы с сетью.   
### Ресурсоэффективность   
Go потребляет меньше памяти и ресурсов по сравнению с Java и C#. Приложения на Go обычно имеют меньший размер бинарного файла и быстрее запускаются.   
### Долгосрочная поддержка   
Язык поддерживается Google и имеет активное сообщество. Go стабилен и продолжает развиваться с акцентом на простоту и производительность.   
### 2. Java   
### Производительность   
Java обеспечивает высокую производительность благодаря JVM и оптимизации компиляции. Однако время запуска приложений на Java выше, чем у Go.   
### Масштабируемость   
Java хорошо подходит для масштабируемых систем благодаря зрелым фреймворкам (например, Spring) и JVM. Однако управление многопоточностью может быть более сложным и требовать больше ресурсов.   
### Экосистема   
Java имеет одну из самых больших экосистем, включая фреймворки, библиотеки и инструменты для корпоративных приложений. Но экосистема может быть избыточной для небольших проектов.   
### Ресурсоэффективность   
Java требует больше памяти и ресурсов по сравнению с Go. Garbage Collector (GC) может вызывать паузы, что влияет на производительность в высоконагруженных системах.   
### Долгосрочная поддержка   
Java поддерживается Oracle и имеет огромную базу разработчиков. Язык стабилен и будет поддерживаться в долгосрочной перспективе.   
### 3. C#   
### Производительность   
C# на платформе .NET Core имеет производительность, сопоставимую с Java и Go. Однако приложения на C# требуют больше ресурсов на выполнение.   
### Масштабируемость   
C# хорошо масштабируется благодаря .NET Core и инструментам для многопоточности. Однако управление многопоточностью сложнее, чем в Go.   
### Экосистема   
C# имеет развитую экосистему для разработки корпоративных приложений и игр (Unity). .NET Core позволяет разрабатывать кроссплатформенные приложения.   
### Ресурсоэффективность   
C# требует больше ресурсов по сравнению с Go и Python. Garbage Collector может влиять на производительность.   
### Долгосрочная поддержка   
C# активно поддерживается Microsoft и продолжает развиваться. Язык стабилен и популярен среди разработчиков корпоративных решений.   
### 4. Python   
### Производительность   
Python уступает по производительности остальным языкам из-за интерпретируемой природы и GIL (Global Interpreter Lock), который ограничивает многопоточность.   
### Масштабируемость   
Python подходит для горизонтального масштабирования, но его производительность может стать узким местом в высоконагруженных системах.   
### Экосистема   
Python имеет отличную экосистему для задач анализа данных, машинного обучения и веб-разработки. Однако для бэкенд-систем, требующих высокой производительности, он менее предпочтителен.   
### Ресурсоэффективность   
Python требует больше ресурсов, чем Go, Java и C#, особенно в сценариях с высокой нагрузкой.   
### Долгосрочная поддержка   
Python поддерживается активным сообществом и продолжает развиваться. Однако его ограничения по производительности делают его менее подходящим для задач, требующих высокой эффективности.   
 --- 
### Решение   
После анализа мы приняли решение использовать **Go** для разработки бэкенда.   
 --- 
### Обоснование выбора   
1. **Производительность**:
Go изначально создавался с акцентом на скорость и эффективность. Его подход к конкурентности (goroutines) обеспечивает быструю обработку большого количества параллельных запросов без значительных затрат памяти.   
2. **Ресурсоэффективность**:
Бинарные файлы Go не требуют виртуальной машины (как в случае с Java или C#) и минимизируют потребление ресурсов.   
3. **Масштабируемость**:
Инструменты и подходы Go (goroutines, каналы) идеально подходят для высоконагруженных систем, где требуется обработка тысяч запросов одновременно.   
4. **Долгосрочные перспективы**:
Go активно развивается и уже получил широкое признание в индустрии (например, его используют Google, Uber, Dropbox).   
5. **Сравнение с альтернативами**:   
    - Go легче в развертывании и эксплуатации, чем Java и C#.   
    - Обеспечивает большую производительность и лучшую поддержку конкурентности, чем Python.   
 --- 
   
### Последствия   
1. **Положительные**:   
    - Более эффективное использование ресурсов.   
    - Возможность легко масштабировать приложение с минимальными изменениями.   
    - Надёжность за счёт встроенных механизмов обработки ошибок и отсутствия сложных зависимостей.   
2. **Негативные**:   
    - Меньшая экосистема по сравнению с Java или Python, что может потребовать написания дополнительных инструментов.   
    - В случае отсутствия опыта работы с Go у команды, потребуется время на его освоение.   
 --- 
   
   
